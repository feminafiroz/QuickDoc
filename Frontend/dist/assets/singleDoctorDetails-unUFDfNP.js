import{j as e,r as l,R as M,b as R,u as S,U as w}from"./index-C8FnT1Uh.js";import{N as F}from"./navbar-CRTHrb3s.js";import{F as k}from"./Footer-DCM7NwJF.js";import{a as y}from"./axiosService-DVz0kc08.js";import{b as E}from"./index-B6K0sViM.js";import{r as A}from"./index-BykXDHJr.js";import"./logo-NL4NpGi6.js";import"./toaster-DqQ00yAR.js";import"./setnget-jfIHgayU.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./iconBase-tNXNVIyx.js";import"./index-BZ5afw0P.js";const C=({size:s=24,color:t="#000000"})=>e.jsx("div",{style:{color:t},children:e.jsxs("svg",{height:s,viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"currentColor"}),e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})}),$=({size:s=24,color:t="#000000"})=>e.jsx("div",{style:{color:t},children:e.jsxs("svg",{height:s,viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",fill:"currentColor"}),e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})}),z=({size:s=24,color:t="#000000"})=>e.jsx("div",{style:{color:t},children:e.jsxs("svg",{height:s,viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",fill:"currentColor"}),e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})}),H=({className:s,count:t=5,value:o,color:m="#ffd700",hoverColor:d="#ffc107",activeColor:i="#ffc107",size:b=30,edit:x=!1,isHalf:f=!0,onChange:j,emptyIcon:v=e.jsx(z,{}),halfIcon:L=e.jsx($,{}),fullIcon:N=e.jsx(C,{})})=>{const[n,h]=l.useState(null),c=r=>{x&&h(r)},u=()=>{x&&h(null)},p=r=>{x&&j&&j(r+1)},g=[];for(let r=0;r<t;r++){let a;f&&o-r>0&&o-r<1?a=L:r<o?a=N:a=v,n!==null&&r<=n&&(a=N),g.push(e.jsx("div",{className:`${x&&"hover:cursor-pointer"}`,onMouseMove:()=>c(r),onMouseLeave:u,onClick:()=>p(r),children:M.cloneElement(a,{size:b,color:r<=Number(n)?d:r<o?i:m})},r))}return e.jsx("div",{className:`rating ${s}`,children:g})},B=({ratings:s})=>{const[t,o]=l.useState(0);return l.useEffect(()=>{const m=setInterval(()=>{o(d=>(d+1)%s.length)},5e3);return()=>clearInterval(m)},[s.length]),e.jsx("div",{className:"flex justify-center items-center p-2 mb-2",children:e.jsx("div",{className:"bg-white rounded-lg p-3 text-center md:w-2/3 border-2 border-green-500",children:e.jsxs(A.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:"flex flex-col items-center space-y-4",children:[e.jsx("p",{className:"text-xl font-semibold",children:s[t].user.name}),e.jsx("p",{className:"text-lg font-light text-gray-700",children:s[t].reviewText}),e.jsx("div",{className:"flex items-center justify-center space-x-2",children:[...Array(s[t].rating)].map((m,d)=>e.jsx("svg",{className:"text-yellow-500 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.363 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118L10 13.011l-2.8 2.034c-.784.57-1.838-.197-1.54-1.118l1.07-3.292a1 1 0 00-.363-1.118l-2.8-2.034c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},d))}),e.jsx("p",{className:"text-sm font-light text-gray-500",children:s[t].createdAt&&new Date(s[t].createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]},t)})})},P=()=>{const{id:s}=R(),[t,o]=l.useState(null),[m,d]=l.useState({}),[i,b]=l.useState([]),[x,f]=l.useState(null),j=S();l.useEffect(()=>{const n=async()=>{try{const u=(await y.get(`${w}/doctor/${s}`)).data.doctor;o(u);const r=(await y.get(`${w}/department/list`)).data.departments.filter(a=>a.isListed).reduce((a,D)=>(a[D._id]=D.departmentName,a),{});d(r)}catch(c){console.error("Error fetching doctor details:",c),f("Failed to fetch doctor details. Please try again later.")}},h=async()=>{try{const c=await y.get(`${w}/getallreviews/${s}`),u=await Promise.all(c.data.data.map(async p=>{const g=await y.get(`${w}/user/${p.user}`);return{...p,user:{id:p.user,name:g.data.user.name}}}));b(u)}catch(c){console.error("Error fetching reviews:",c),f("Failed to fetch reviews. Please try again later.")}};n(),h()},[s]);const v=l.useMemo(()=>i.length?(i.map(n=>n.rating).reduce((n,h)=>n+h,0)/i.length).toFixed(1):"4.1",[i]),L=()=>{j(`/user/appoinment/${s}`)},N=()=>e.jsxs("button",{onClick:L,className:"bg-green-600 text-white py-2 px-4 rounded-lg mt-4 flex items-center hover:bg-green-700 transition-colors duration-300",children:[e.jsx(E,{className:"mr-2"})," Book Appointment"]});return x?e.jsx("div",{className:"text-red-500",children:x}):t?e.jsxs("div",{className:"container bg-gray-100 mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8 text-center text-gray-800",children:"Doctor Details"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center   ",children:[e.jsx("div",{className:"md:w-1/3 mb-4 md:mb-0 flex justify-center",children:e.jsx("img",{src:t.profileImage,alt:"Doctor",className:"h-96 w-96 rounded-lg shadow-md object-cover border-4 border-white"})}),e.jsxs("div",{className:"md:w-2/3 md:pl-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg mb-4 shadow-lg",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:["Dr. ",t.doctorName]}),e.jsxs("span",{className:"text-sl text-gray-700",children:[m[t.department]," ,"]}),t.tenture&&e.jsx(e.Fragment,{children:e.jsxs("span",{className:"text-sm text-gray-800 ",children:[t.tenture," years of Experience"]})}),t.wokringHospital&&e.jsx(e.Fragment,{children:e.jsxs("h2",{className:"text-sm text-gray-800 mb-1",children:["Working Hospital :  ",t.wokringHospital]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{value:parseFloat(v),className:"flex"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("p",{className:"ml-1 text-sm font-medium text-gray-500 dark:text-gray-400",children:[v," out of 5"]})})]}),e.jsx("p",{className:"text-lg text-green-500 font-bold mb-4",children:"Consultation Fee - â‚¹200"}),N()]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"About"}),e.jsx("p",{className:"text-lg text-gray-700",children:t.description})]})]})]}),i.length?e.jsxs("div",{className:"bg-gray-100 px-10 pt-6 rounded-lg shadow-lg text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Feedback from  Paitents"}),e.jsx(B,{ratings:i})]}):null]}):e.jsx("div",{className:"text-center py-8",children:"Loading..."})},Y=()=>e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsx(P,{}),e.jsx(k,{})]});export{Y as default};
