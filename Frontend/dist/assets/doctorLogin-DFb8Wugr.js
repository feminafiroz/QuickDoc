import{r as h,u as y,a as S,D as f,v as p,j as e,L,G as _}from"./index-C8FnT1Uh.js";import{u as E}from"./formik.esm-DplSx8st.js";import{a as b}from"./axios-B6xwUs71.js";import{j as D}from"./index-VWaDGczM.js";import{F as A,f as P,a as F}from"./index-DBZ1OT0-.js";import{L as I,d as C}from"./quickdoc-DXHcAqDF.js";import{s as c}from"./setnget-jfIHgayU.js";import{s as l}from"./toaster-DqQ00yAR.js";import{a as T}from"./validation-Chaci6--.js";import"./index-BZ5afw0P.js";const G=()=>{const[m,u]=h.useState(!1),x=y(),g=S(),[i,j]=h.useState(!1),s=E({initialValues:{email:"",password:""},validate:T,onSubmit:({email:t,password:o})=>{u(!0),b.post(f+"/login",{email:t,password:o}).then(({data:a})=>{const{doctorName:r,role:n,_id:d}=a.doctor,{message:N,access_token:v,refresh_token:k}=a;g(p({isAuthenticated:!0,name:r,role:n,id:d})),c("access_token",v),c("refresh_token",k),l(N,"success"),setTimeout(()=>{x("/doctor")},1e3)}).catch(({response:a})=>{const{message:r}=a.data;u(!1),l(r,"error")})}}),w=t=>{b.post(f+"/google_signIn",{doctor:t}).then(({data:o})=>{const{message:a,user:r,access_token:n,refresh_token:d}=o;c("access_token",n),c("refresh_token",d),l(a,"success"),g(p({name:r.doctorName,isAuthenticated:!0,role:r.role,id:r._id})),x("/doctor")}).catch(({response:o})=>l(o.data.message,"error"))};return e.jsxs("section",{className:"flex flex-col md:flex-row h-screen items-center ",children:[e.jsxs("div",{className:"relative flex-shrink-0 hidden lg:block w-full md:w-1/2 xl:w-2/3 h-screen",children:[e.jsx("div",{className:"absolute inset-0 bg-green-700 opacity-25"}),e.jsxs("h1",{className:"absolute top-24 left-8 font-semibold text-4xl text-white leading-snug",children:["Streamline Your Schedule,",e.jsx("br",{}),"Empower Your Practice!",e.jsx("br",{}),"Be a part of ",e.jsx("br",{}),e.jsx("img",{src:I,alt:"Quick Doc Logo",className:"h-14 mr-2 inline-block"}),e.jsx("span",{className:"text-5xl",children:"QuickDoc Community"})]}),e.jsx("img",{src:C,alt:"advertisement table image",className:"w-full h-full object-cover"})]}),e.jsx("div",{className:"bg-white mb-20 w-full md:max-w-md lg:max-w-full md:mx-auto  md:w-1/2 xl:w-1/3 h-screen px-6 lg:px-16 xl:px-12 flex items-center justify-center ",children:e.jsxs("div",{className:"w-full h-100",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold leading-tight mt-12",children:"Login"}),e.jsxs("form",{className:"mt-6",onSubmit:s.handleSubmit,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700",children:"Email Address"}),e.jsx("input",{type:"text",placeholder:"Enter Email Address",className:"w-full px-3 py-2 rounded-lg bg-gray-100 mt-2 border focus:border-green-500 focus:bg-white focus:outline-none",autoFocus:!0,...s.getFieldProps("email")}),s.errors.email&&s.touched.email&&e.jsx("div",{className:"text-red-500",children:s.errors.email})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",placeholder:"Enter Password",className:"w-full px-3 py-2 rounded-lg bg-gray-100 mt-2 border focus:border-green-500 focus:bg-white focus:outline-none",...s.getFieldProps("password")}),e.jsx("span",{className:"absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>j(!i),children:e.jsx(A,{icon:i?P:F,className:"text-gray-700"})})]}),s.errors.password&&s.touched.password&&e.jsx("div",{className:"text-red-500",children:s.errors.password})]}),e.jsx("button",{type:"submit",className:`w-full block bg-green-700 hover:bg-green-600 transition duration-300 focus:bg-green-400 text-white font-semibold rounded-lg px-4 py-3 mt-6 ${m?"cursor-not-allowed":"cursor-pointer"}`,disabled:m,children:"Log In"}),e.jsxs("p",{className:"mt-8",children:["Don't have an account?",e.jsx(L,{to:"/doctor/register",className:"text-blue-500 hover:text-blue-700 font-semibold",children:"Create Account"})]})]}),e.jsx("div",{className:"px-4 py-2 w-full flex justify-center gap-2",children:e.jsx(_,{onSuccess:t=>{const o=D(t==null?void 0:t.credential);w(o)},onError:()=>{l("Login Failed","error")}})})]})})]})},K=()=>e.jsx(G,{});export{K as default};
