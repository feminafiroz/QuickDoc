import{j as e,r as a,R as F,b as R,u as k,U as N}from"./index-CsBE_jWW.js";import{N as E}from"./navbar-DdDvoLla.js";import{F as A}from"./Footer-DZsvjz-A.js";import{a as b}from"./axiosService-BpkE08CC.js";import{b as C}from"./index-xvSqWngv.js";import{r as $}from"./index-BUfO-jxn.js";import"./logo-NL4NpGi6.js";import"./toaster-IcY2vQtV.js";import"./setnget-jfIHgayU.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./iconBase-BdESgyje.js";import"./index-Dg-jO3xv.js";const z=({size:s=24,color:t="#000000"})=>e.jsx("div",{style:{color:t},children:e.jsxs("svg",{height:s,viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z",fill:"currentColor"}),e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})}),H=({size:s=24,color:t="#000000"})=>e.jsx("div",{style:{color:t},children:e.jsxs("svg",{height:s,viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",fill:"currentColor"}),e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})}),B=({size:s=24,color:t="#000000"})=>e.jsx("div",{style:{color:t},children:e.jsxs("svg",{height:s,viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z",fill:"currentColor"}),e.jsx("path",{d:"M0 0h24v24H0z",fill:"none"})]})}),I=({className:s,count:t=5,value:l,color:x="#ffd700",hoverColor:c="#ffc107",activeColor:n="#ffc107",size:y=30,edit:d=!1,isHalf:f=!0,onChange:j,emptyIcon:L=e.jsx(B,{}),halfIcon:D=e.jsx(H,{}),fullIcon:u=e.jsx(z,{})})=>{const[g,v]=a.useState(null),m=r=>{d&&v(r)},p=()=>{d&&v(null)},o=r=>{d&&j&&j(r+1)},h=[];for(let r=0;r<t;r++){let i;f&&l-r>0&&l-r<1?i=D:r<l?i=u:i=L,g!==null&&r<=g&&(i=u),h.push(e.jsx("div",{className:`${d&&"hover:cursor-pointer"}`,onMouseMove:()=>m(r),onMouseLeave:p,onClick:()=>o(r),children:F.cloneElement(i,{size:y,color:r<=Number(g)?c:r<l?n:x})},r))}return e.jsx("div",{className:`rating ${s}`,children:h})},P=({ratings:s})=>{const[t,l]=a.useState(0);return a.useEffect(()=>{const x=setInterval(()=>{l(c=>(c+1)%s.length)},5e3);return()=>clearInterval(x)},[s.length]),e.jsx("div",{className:"flex justify-center items-center p-2 mb-2",children:e.jsx("div",{className:"bg-white rounded-lg p-3 text-center md:w-2/3 border-2 border-green-500",children:e.jsxs($.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},className:"flex flex-col items-center space-y-4",children:[e.jsx("p",{className:"text-xl font-semibold",children:s[t].user.name}),e.jsx("p",{className:"text-lg font-light text-gray-700",children:s[t].reviewText}),e.jsx("div",{className:"flex items-center justify-center space-x-2",children:[...Array(s[t].rating)].map((x,c)=>e.jsx("svg",{className:"text-yellow-500 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.363 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118L10 13.011l-2.8 2.034c-.784.57-1.838-.197-1.54-1.118l1.07-3.292a1 1 0 00-.363-1.118l-2.8-2.034c-.783-.57-.38-1.81.588-1.81h3.462a1 1 0 00.95-.69l1.07-3.292z"})},c))}),e.jsx("p",{className:"text-sm font-light text-gray-500",children:s[t].createdAt&&new Date(s[t].createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]},t)})})},U=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full min-h-[80vh] lg:ml-20 px-4 pl-8 py-8 bg-gray-100 flex flex-col items-center animate-pulse",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"h-10 bg-gray-300 rounded w-1/3 mb-8 mx-auto"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center w-full max-w-4xl mx-auto",children:[e.jsx("div",{className:"w-full md:w-1/3 mb-4 md:mb-0 flex justify-center",children:e.jsx("div",{className:"h-96 w-full md:w-96 bg-gray-300 rounded-lg shadow-md"})}),e.jsxs("div",{className:"w-full md:w-2/3 md:pl-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg mb-4 shadow-lg w-full",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-300 rounded w-full mb-4"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-6 bg-gray-300 rounded w-full"})]})]})]}),e.jsxs("div",{className:"bg-gray-100 px-10 pt-6 rounded-lg shadow-lg text-center mt-8 w-full max-w-4xl mx-auto",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mx-auto mb-4"}),e.jsx("div",{className:"h-6 bg-gray-300 rounded w-full"})]})]})})}),V=()=>{const{id:s}=R(),[t,l]=a.useState(null),[x,c]=a.useState({}),[n,y]=a.useState([]),[d,f]=a.useState(null),[j,L]=a.useState(!0),D=k();a.useEffect(()=>{const m=async()=>{try{const h=(await b.get(`${N}/doctor/${s}`)).data.doctor;l(h);const S=(await b.get(`${N}/department/list`)).data.departments.filter(w=>w.isListed).reduce((w,M)=>(w[M._id]=M.departmentName,w),{});c(S)}catch(o){console.error("Error fetching doctor details:",o),f("Failed to fetch doctor details. Please try again later.")}finally{L(!1)}},p=async()=>{try{const o=await b.get(`${N}/getallreviews/${s}`),h=await Promise.all(o.data.data.map(async r=>{const i=await b.get(`${N}/user/${r.user}`);return{...r,user:{id:r.user,name:i.data.user.name}}}));y(h)}catch(o){console.error("Error fetching reviews:",o),f("Failed to fetch reviews. Please try again later.")}};m(),p()},[s]);const u=a.useMemo(()=>n.length?(n.map(m=>m.rating).reduce((m,p)=>m+p,0)/n.length).toFixed(1):"4.1",[n]),g=()=>{D(`/user/appoinment/${s}`)},v=()=>e.jsxs("button",{onClick:g,className:"bg-green-600 text-white py-2 px-4 rounded-lg mt-4 flex items-center hover:bg-green-700 transition-colors duration-300",children:[e.jsx(C,{className:"mr-2"})," Book Appointment"]});return d?e.jsx("div",{className:"text-red-500",children:d}):t?e.jsx(e.Fragment,{children:j?e.jsx("div",{className:"lg:w-3/4",children:e.jsx(U,{})}):e.jsxs("div",{className:"container bg-gray-100 mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8 text-center text-gray-800",children:"Doctor Details"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center   ",children:[e.jsx("div",{className:"md:w-1/3 mb-4 md:mb-0 flex justify-center",children:e.jsx("img",{src:t.profileImage,alt:"Doctor",className:"h-96 w-96 rounded-lg shadow-md object-cover border-4 border-white"})}),e.jsxs("div",{className:"md:w-2/3 md:pl-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg mb-4 shadow-lg",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:["Dr. ",t.doctorName]}),e.jsxs("span",{className:"text-sl text-gray-700",children:[x[t.department]," ,"]}),t.tenture&&e.jsx(e.Fragment,{children:e.jsxs("span",{className:"text-sm text-gray-800 ",children:[t.tenture," years of Experience"]})}),t.wokringHospital&&e.jsx(e.Fragment,{children:e.jsxs("h2",{className:"text-sm text-gray-800 mb-1",children:["Working Hospital :  ",t.wokringHospital]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{value:parseFloat(u),className:"flex"}),e.jsx("div",{className:"flex items-center",children:e.jsxs("p",{className:"ml-1 text-sm font-medium text-gray-500 dark:text-gray-400",children:[u," out of 5"]})})]}),e.jsx("p",{className:"text-lg text-green-500 font-bold mb-4",children:"Consultation Fee - â‚¹200"}),v()]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"About"}),e.jsx("p",{className:"text-lg text-gray-700",children:t.description})]})]})]}),n.length?e.jsxs("div",{className:"bg-gray-100 px-10 pt-6 rounded-lg shadow-lg text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Feedback from  Paitents"}),e.jsx(P,{ratings:n})]}):null]})}):e.jsx("div",{className:"text-center py-8",children:"Loading..."})},te=()=>e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx(V,{}),e.jsx(A,{})]});export{te as default};
