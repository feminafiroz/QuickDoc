import{r as i,R as r,c}from"./index-CsBE_jWW.js";import{C as m,a as u}from"./slotPage-BN0ML2uJ.js";import"./Navbar-Zi3rlavh.js";import"./logo-NL4NpGi6.js";import"./toaster-IcY2vQtV.js";import"./setnget-jfIHgayU.js";import"./Footer-tnSLWl_T.js";import"./index-BUfO-jxn.js";import"./index-Dg-jO3xv.js";import"./index-DJXT5Rrr.js";import"./axiosService-BpkE08CC.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./index-9yvET6iG.js";const p=parseInt(String(r.version).split(".")[0]),h=p<18;class l extends i.Component{constructor(){super(...arguments),this.elRef=i.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(r.createElement(g,{key:t.id,customRendering:t}));return r.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new m;this.handleCustomRendering=e.handle.bind(e),this.calendar=new u(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render();let t;e.subscribe(s=>{const o=Date.now(),a=!t;(h||a||this.isUpdating||this.isUnmounting||o-t<100?d:c.flushSync)(()=>{this.setState({customRenderingMap:s},()=>{t=o,a?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}l.act=d;class g extends i.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,s=typeof t=="function"?t(e.renderProps):t;return c.createPortal(s,e.containerEl)}}function d(n){n()}export{l as default};
