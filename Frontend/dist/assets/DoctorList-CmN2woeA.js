import{r as i,j as e,L as u,B as b}from"./index-FtoaIzxn.js";import{A as j,a as g}from"./Sidebar-BNvT8nue.js";import{u as N}from"./useDoctors-DGgpHvMz.js";import{a as y}from"./axiosService-Bk3JA0V8.js";import{B as k,Q as v}from"./react-toastify.esm-BzsbKAu9.js";/* empty css                      */import"./index-Bp2lwcmh.js";import"./iconBase-CbxJS-00.js";import"./logo-NL4NpGi6.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./toaster-DOicKWBQ.js";import"./setnget-jfIHgayU.js";import"./clsx-B-dksMZM.js";const w=({serialNo:t,_id:c,doctorName:l,email:n,status:o,isBlocked:d})=>{const[s,x]=i.useState(!!d),[m,r]=i.useState(!1),a=()=>{r(!0)},h=()=>{y.patch(b+`/block_doctor/${c}`).then(p=>{if(p.data.success){x(!s);const f=s?"Doctor unblocked successfully":"Doctor blocked successfully";k.success(f,{position:"top-center",autoClose:3e3})}}).catch(p=>console.log(p)).finally(()=>{r(!1)})};return e.jsxs(e.Fragment,{children:[m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Confirm ",s?"Unblocking":"Blocking"]}),e.jsxs("p",{className:"mb-4",children:["Are you sure you want to ",s?"unblock":"block"," this doctor?"]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>r(!1),className:"mr-2 px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-green-500 text-white rounded",children:"Confirm"})]})]})}),e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-6 py-4 text-left font-medium text-gray-900 whitespace-nowrap dark:text-white",children:t}),e.jsx("td",{className:"px-6 py-4 text-left",children:l}),e.jsx("td",{className:"px-6 py-4 text-left",children:n}),e.jsx("td",{className:"px-6 py-4 text-left",children:o}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s?"bg-red-500":"bg-green-400"}`}),e.jsx("p",{children:s?"Blocked":"Active"})]})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:a,className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${s?"bg-red-500":"bg-primary"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${s?"translate-x-full":""}`})]})})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx(u,{to:`/admin/doctors/${c}`,className:"bg-green-800 text-white py-2 px-4 rounded hover:bg-green-600 text-sm sm:text-base md:text-lg lg:text-base",children:"View Details"})})]})]})},H=()=>{const[t,c]=i.useState(1),l=8,{doctors:n}=N(),o=n.filter(a=>a.status==="approved"),d=o.length,s=Math.ceil(d/l),x=o.slice((t-1)*l,t*l),m=()=>{t<s&&c(t+1)},r=()=>{t>1&&c(t-1)};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(j,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(g,{}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx(v,{}),e.jsx("h1",{className:"text-4xl font-bold mb-4 text-center",children:" Approved Doctor List"}),e.jsx("div",{className:"overflow-x-auto flex-grow",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"px-4 py-3 text-left",children:"Sl.No"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Approved/not"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Actions"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Details"})]})}),e.jsx("tbody",{children:x.map((a,h)=>i.createElement(w,{...a,key:a._id,serialNo:(t-1)*l+h+1}))})]})})}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:r,disabled:t===1,className:"ml-10 px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),e.jsxs("span",{children:["Page ",t," of ",s]}),e.jsx("button",{onClick:m,disabled:t===s,className:"mr-10 px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})};export{H as default};
