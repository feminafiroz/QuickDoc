import{r,j as e,B as u}from"./index-C8FnT1Uh.js";import{a as p}from"./axiosService-DVz0kc08.js";import{B as b,Q as g}from"./react-toastify.esm-CF6o8UpG.js";/* empty css                      */import{A as j,a as y}from"./Sidebar-D3C4JKvK.js";import"./axios-B6xwUs71.js";import"./index-VWaDGczM.js";import"./toaster-DqQ00yAR.js";import"./setnget-jfIHgayU.js";import"./clsx-B-dksMZM.js";import"./index-B6K0sViM.js";import"./iconBase-tNXNVIyx.js";import"./logo-NL4NpGi6.js";const N=({serialNo:s,_id:a,name:l,email:n,isBlocked:i})=>{const[t,d]=r.useState(i),[x,c]=r.useState(!1),o=()=>{c(!0)},m=()=>{p.patch(u+`/block_user/${a}`).then(h=>{if(h.data.success){d(!t);const f=t?"User unblocked successfully":"User blocked successfully";b.success(f,{position:"top-center",autoClose:3e3})}}).catch(h=>console.log(h)).finally(()=>{c(!1)})};return e.jsxs(e.Fragment,{children:[x&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Confirm ",t?"Unblocking":"Blocking"]}),e.jsxs("p",{className:"mb-4",children:["Are you sure you want to ",t?"unblock":"block"," this doctor?"]}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>c(!1),className:"mr-2 px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-green-500 text-white rounded",children:"Confirm"})]})]})}),e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"px-6 py-4 text-left font-medium text-gray-900 whitespace-nowrap dark:text-white truncate",style:{maxWidth:"50px"},children:s}),e.jsx("td",{className:"px-6 py-4 text-left truncate",children:l}),e.jsx("td",{className:"px-6 py-4 text-left truncate",children:n}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-red-600":"bg-green-700"}`}),e.jsx("p",{children:t?"Blocked":"Active"})]})}),e.jsx("td",{className:"px-6 py-4 text-left",children:e.jsx("label",{className:"flex cursor-pointer select-none items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:o,className:"sr-only"}),e.jsx("div",{className:`box block h-6 w-10 rounded-full ${t?"bg-red-500":"bg-primary"}`}),e.jsx("div",{className:`absolute left-1 top-1 flex h-4 w-4 items-center justify-center rounded-full bg-white transition ${t?"translate-x-full":""}`})]})})})]})]})},k=()=>{const[s,a]=r.useState([]);return r.useEffect(()=>{p.get(u+"/users").then(({data:l})=>{a(l.users)}).catch(l=>console.log(l))},[a]),{users:s,setUsers:a}},D=()=>{const[s,a]=r.useState(1),l=7,{users:n}=k(),i=n.length,t=Math.ceil(i/l),d=n.slice((s-1)*l,s*l),x=()=>{s<t&&a(s+1)},c=()=>{s>1&&a(s-1)};return e.jsxs("div",{className:"flex h-screen",children:[e.jsx(j,{}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx(y,{}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[e.jsx(g,{}),e.jsx("h1",{className:"text-4xl font-bold mb-4 text-center",children:"User List"}),e.jsx("div",{className:"overflow-x-auto flex-grow",children:e.jsxs("table",{className:"table-auto w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"px-6 py-4 text-left",children:"Sl.No"}),e.jsx("th",{className:"px-6 py-4 text-left",children:"Name"}),e.jsx("th",{className:"px-6 py-4 text-left",children:"Email"}),e.jsx("th",{className:"px-6 py-4 text-left",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left",children:"Actions"})]})}),e.jsx("tbody",{children:d.map((o,m)=>r.createElement(N,{...o,key:o._id,serialNo:(s-1)*l+m+1}))})]})}),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:c,disabled:s===1,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Previous"}),e.jsxs("span",{children:["Page ",s," of ",t]}),e.jsx("button",{onClick:x,disabled:s===t,className:"px-4 py-2 bg-gray-300 rounded disabled:opacity-50",children:"Next"})]})]})]})]})};export{D as default};
